{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nexport default {\n  name: 'News',\n  props: ['apiKey'],\n  data: function data() {\n    return {\n      url: '',\n      currentPage: 1,\n      totalResults: 0,\n      newsPerPage: 10,\n      articles: [],\n      search: ''\n    };\n  },\n  filters: {\n    formatDate: function formatDate(value) {\n      if (value) {\n        return moment(String(value)).format('MM/DD/YYYY hh:mm');\n      }\n    }\n  },\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      if (this.search !== '') {\n        this.url = 'https://newsapi.org/v2/everything?q=' + this.search + '&pageSize=' + this.newsPerPage + '&apiKey=' + this.apiKey;\n      } else {\n        this.url = 'https://newsapi.org/v2/top-headlines?country=gb&pageSize=' + this.newsPerPage + '&apiKey=' + this.apiKey;\n        this.search = '';\n      }\n\n      this.articles = [];\n      var request = new Request(this.url + '&page=' + this.currentPage);\n      fetch(request).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this.totalResults = data.totalResults;\n        data.articles.forEach(function (element) {\n          _this.articles.push(element);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    selectData: function selectData(category) {\n      var _this2 = this;\n\n      this.url = 'https://newsapi.org/v2/top-headlines?category=' + category + '&apiKey=' + this.apiKey;\n      this.articles = [];\n      var request = new Request(this.url + '&page=' + this.currentPage);\n      fetch(request).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.totalResults = data.totalResults;\n        data.articles.forEach(function (element) {\n          _this2.articles.push(element);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    updateNewsPerPage: function updateNewsPerPage(value) {\n      this.newsPerPage = value;\n      this.currentPage = 1;\n      this.fetchData();\n    },\n    updatePage: function updatePage(page) {\n      this.currentPage = page;\n      this.fetchData();\n    },\n    openLink: function openLink(url) {\n      window.open(url);\n    }\n  },\n  created: function created() {\n    this.fetchData();\n  },\n  selectCategorie: function selectCategorie() {\n    this.categorie = 'https://newsapi.org/v2/top-headlines/sources?category=businessapiKey=API_KEY';\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AAEA;EACAA,YADA;EAEAC,iBAFA;EAGAC;IACA;MACAC,OADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC,eAJA;MAKAC,YALA;MAMAC;IANA;EASA,CAbA;EAcAC;IACAC;MACA;QACA;MACA;IACA;EALA,CAdA;EAqBAC;IACAC,SADA,uBACA;MAAA;;MACA;QACA,WACA,yCACA,WADA,GAEA,YAFA,GAGA,gBAHA,GAIA,UAJA,GAKA,WANA;MAOA,CARA,MAQA;QACA,WACA,8DACA,gBADA,GAEA,UAFA,GAGA,WAJA;QAMA;MACA;;MAEA;MAEA;MACAC,eACAC,IADA,CACA;QAAA;MAAA,CADA,EAEAA,IAFA,CAEA;QACA;QACAZ;UACA;QACA,CAFA;MAGA,CAPA,EAQAa,KARA,CAQA;QACAC;MACA,CAVA;IAWA,CAlCA;IAoCAC,UApCA,sBAoCAC,QApCA,EAoCA;MAAA;;MAEA,WACA,mDACAA,QADA,GAEA,UAFA,GAGA,WAJA;MAQA;MAEA;MACAL,eACAC,IADA,CACA;QAAA;MAAA,CADA,EAEAA,IAFA,CAEA;QACA;QACAZ;UACA;QACA,CAFA;MAGA,CAPA,EAQAa,KARA,CAQA;QACAC;MACA,CAVA;IAWA,CA5DA;IA8DAG,iBA9DA,6BA8DAC,KA9DA,EA8DA;MACA;MACA;MACA;IACA,CAlEA;IAoEAC,UApEA,sBAoEAC,IApEA,EAoEA;MACA;MACA;IACA,CAvEA;IAyEAC,QAzEA,oBAyEApB,GAzEA,EAyEA;MACAqB;IACA;EA3EA,CArBA;EAkGAC,OAlGA,qBAkGA;IACA;EACA,CApGA;EAsGAC,eAtGA,6BAsGA;IACA;IACA;EACA;AAzGA","names":["name","props","data","url","currentPage","totalResults","newsPerPage","articles","search","filters","formatDate","methods","fetchData","fetch","then","catch","console","selectData","category","updateNewsPerPage","value","updatePage","page","openLink","window","created","selectCategorie"],"sourceRoot":"src/components","sources":["News.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"px-4 py-4 my-4 text-center\">\n      <svg\n        width=\"269\"\n        height=\"82\"\n        viewBox=\"0 0 269 82\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M1.6 16.24H15.92V40H22.88V16.24H37.2V10.64H1.6V16.24ZM89.2878 37L82.8478 28.84C89.0878 27.72 91.7278 24.96 91.7278 20C91.7278 13.32 86.8878 10.64 74.8478 10.64H56.8078V40H63.6878V29.4H74.8478H75.2878L83.6878 40H91.6878L91.4478 39.68L89.2878 37ZM63.8078 15.6H76.0478C81.8078 15.6 84.1278 16.84 84.1278 20C84.1278 23.16 81.8078 24.4 76.0478 24.4H63.8078V15.6ZM112.212 10.64V40H148.172V34.4H119.172V27.8H141.092V22.2H119.172V16.24H147.852V10.64H112.212ZM169.18 10.64V40H176.14V18.76L197.98 40H206.18V10.64H199.26V32.88L177.38 10.64H169.18ZM228.256 40V10.8H247.096C260.296 10.8 267.176 15.64 267.176 24.92C267.176 34.84 260.296 40 247.096 40H228.256ZM235.136 16V34.64H247.096C255.376 34.64 259.696 31.36 259.696 25.04C259.696 19.08 255.376 16 247.096 16H235.136Z\"\n          fill=\"black\"\n        />\n        <path\n          d=\"M120.6 77H122.06L116.9 62.94H115.42L110.26 77H111.72L113.32 72.52H118.98L120.6 77ZM116.18 64.4C116.18 64.4 116.48 65.56 116.72 66.22L118.56 71.32H113.72L115.6 66.22C115.84 65.56 116.14 64.4 116.14 64.4H116.18ZM130.364 77H131.744V71.48H135.224C137.744 71.48 139.564 69.8 139.564 67.18C139.564 64.58 137.744 62.94 135.224 62.94H130.364V77ZM131.744 70.24V64.18H135.064C136.924 64.18 138.144 65.28 138.144 67.18C138.144 69.1 136.924 70.24 135.044 70.24H131.744ZM148.317 77H149.697V71.48H153.177C155.697 71.48 157.517 69.8 157.517 67.18C157.517 64.58 155.697 62.94 153.177 62.94H148.317V77ZM149.697 70.24V64.18H153.017C154.877 64.18 156.097 65.28 156.097 67.18C156.097 69.1 154.877 70.24 152.997 70.24H149.697Z\"\n          fill=\"black\"\n        />\n      </svg>\n    </div>\n\n    <!-- Search bar -->\n    <b-container>\n      <b-form @submit.prevent=\"fetchData()\">\n        <b-form-input\n          id=\"inputSearchBar\"\n          class=\"mx-auto mt-5 w-50 px-4 my-4\"\n          type=\"search\"\n          placeholder=\"Research an article\"\n          v-model=\"search\"\n        />\n      </b-form>\n      <br />\n    </b-container>\n\n    <!-- Filters -->\n\n    <b-container>\n      <ul class=\"nav justify-content-center\">\n        <li class=\"nav-item\">\n          <button class=\"nav-link\" \n          aria-current=\"page\" \n          @click=\"selectData(business)\">Business</button>\n        </li>\n        <li class=\"nav-item\">\n          <button \n          class=\"nav-link\" \n          @click=\"selectData(technology)\"> Technology \n          </button>\n        </li>\n        <li class=\"nav-item\">\n          <button class=\"nav-link\" @click=\"selectData(entertainment)\">Entertainment</button>\n        </li>\n        <li class=\"nav-item\">\n          <button class=\"nav-link\"\n          @click=\"selectData(general)\">General</button>\n        </li>\n        <li class=\"nav-item\">\n          <button class=\"nav-link\" @click=\"selectData(health)\">Health</button>\n        </li>\n\n         <li class=\"nav-item\">\n          <button class=\"nav-link\" @click=\"selectData(science)\">Science</button>\n        </li>\n        \n       \n        \n      </ul>\n    </b-container>\n\n    <!-- Articles -->\n    <br />\n    <b-container>\n      <b-row>\n        <b-col\n          cols=\"4\"\n          class=\"d-flex align-items-stretch\"\n          v-for=\"article in articles\"\n          :key=\"article.id\"\n          @click=\"openLink(article.url)\"\n        >\n          <b-card\n            :title=\"article.title\"\n            :img-src=\"article.urlToImage\"\n            class=\"mb-5 px-0 shadow-none border-0\"\n          >\n            <b-card-text>{{ article.description }}</b-card-text>\n            <b-card-text class=\"text-muted\">{{ article.author }}</b-card-text>\n            <b-card-text class=\"text-muted bottom\">{{\n              article.publishedAt | formatDate\n            }}</b-card-text>\n          </b-card>\n        </b-col>\n      </b-row>\n      <b-pagination\n        pills\n        align=\"center\"\n        v-model=\"currentPage\"\n        :total-rows=\"totalResults\"\n        :per-page=\"newsPerPage\"\n        class=\"mt-5 mb-5\"\n        @input=\"updatePage(currentPage)\"\n      />\n    </b-container>\n  </div>\n</template>\n\n<script>\n  import moment from 'moment'\n\n  export default {\n    name: 'News',\n    props: ['apiKey'],\n    data: () => {\n      return {\n        url: '',\n        currentPage: 1,\n        totalResults: 0,\n        newsPerPage: 10,\n        articles: [],\n        search: '',\n       \n      }\n    },\n    filters: {\n      formatDate: function (value) {\n        if (value) {\n          return moment(String(value)).format('MM/DD/YYYY hh:mm')\n        }\n      },\n    },\n    methods: {\n      fetchData() {\n        if (this.search !== '') {\n          this.url =\n            'https://newsapi.org/v2/everything?q=' +\n            this.search +\n            '&pageSize=' +\n            this.newsPerPage +\n            '&apiKey=' +\n            this.apiKey\n        } else {\n          this.url =\n            'https://newsapi.org/v2/top-headlines?country=gb&pageSize=' +\n            this.newsPerPage +\n            '&apiKey=' +\n            this.apiKey\n\n          this.search = ''\n        }\n\n        this.articles = []\n\n        let request = new Request(this.url + '&page=' + this.currentPage)\n        fetch(request)\n          .then((response) => response.json())\n          .then((data) => {\n            this.totalResults = data.totalResults\n            data.articles.forEach((element) => {\n              this.articles.push(element)\n            })\n          })\n          .catch((error) => {\n            console.log(error)\n          })\n      },\n\n      selectData(category) {\n         \n         this.url =\n            'https://newsapi.org/v2/top-headlines?category=' +\n            category +\n            '&apiKey=' +\n            this.apiKey\n\n      \n\n        this.articles = []\n\n        let request = new Request(this.url + '&page=' + this.currentPage)\n        fetch(request)\n          .then((response) => response.json())\n          .then((data) => {\n            this.totalResults = data.totalResults\n            data.articles.forEach((element) => {\n              this.articles.push(element)\n            })\n          })\n          .catch((error) => {\n            console.log(error)\n          })\n      },\n\n      updateNewsPerPage(value) {\n        this.newsPerPage = value\n        this.currentPage = 1\n        this.fetchData()\n      },\n\n      updatePage(page) {\n        this.currentPage = page\n        this.fetchData()\n      },\n\n      openLink(url) {\n        window.open(url)\n      },\n    },\n    created() {\n      this.fetchData()\n    },\n\n    selectCategorie () {\n      this.categorie = 'https://newsapi.org/v2/top-headlines/sources?category=businessapiKey=API_KEY';\n      this.fetchData()\n    },\n  }\n</script>\n\n<style scoped>\n\n  .nav-item, .nav-link {\n    background-color:transparent;\n\t  cursor:pointer;\n\t  color:#000;\n\t  font-family: Montserrat;\n\t  font-size:16px;\n\t  padding:16px 31px;\n\t  text-decoration:none;\n    border: none;\n  }\n  img {\n    height: 250px;\n    width: 100%;\n    object-fit: cover;\n  }\n  .inputSearchBar{\n    border: 2px solid black;\n  border-radius: 4px;\n  }\n  .bottom {\n    position: absolute;\n    right: 10px;\n    bottom: 10px;\n  }\n  .card {\n    border-radius: 4px;\n    background: #fff;\n    box-shadow: 0 6px 10px rgba(0, 0, 0, 0.08), 0 0 6px rgba(0, 0, 0, 0.05);\n    transition: 0.3s transform cubic-bezier(0.155, 1.105, 0.295, 1.12),\n      0.3s box-shadow,\n      0.3s -webkit-transform cubic-bezier(0.155, 1.105, 0.295, 1.12);\n    cursor: pointer;\n  }\n\n  .card:hover {\n    transform: scale(1.05);\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.06);\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}